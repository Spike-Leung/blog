(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{208:function(a,r,e){"use strict";e.r(r);var t=e(0),s=Object(t.a)({},(function(){var a=this,r=a.$createElement,e=a._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"制作-svg-地图轮廓"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#制作-svg-地图轮廓"}},[a._v("#")]),a._v(" 制作 svg 地图轮廓")]),a._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),e("p",[a._v("由于项目基于 amMap,有时需要使用中国某些省份或者市区作为地图，\n但是 ammap 没有提供相关的地图数据，官网提供了一个自制地图数据的文档，\n根据此文档，只要有地图的 GIS 数据，就可以制作出想要的地图。")]),a._v(" "),e("h2",{attrs:{id:"获取-gis-数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取-gis-数据"}},[a._v("#")]),a._v(" 获取 GIS 数据")]),a._v(" "),e("p",[a._v("网上搜索下载相关地区的 GIS 数据，一般下载下来会包含"),e("code",[a._v(".shp")]),a._v(","),e("code",[a._v(".shx")]),a._v(","),e("code",[a._v(".prj")]),a._v(","),e("code",[a._v(".dbf")]),a._v("等类型的文件，\n这里提供一份"),e("a",{attrs:{href:"https://www.ganghe.net/research/data/china-gis-data",target:"_blank",rel:"noopener noreferrer"}},[a._v("中国地图的 GIS 数据"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"截取需要的地图轮廓"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#截取需要的地图轮廓"}},[a._v("#")]),a._v(" 截取需要的地图轮廓")]),a._v(" "),e("p",[a._v("amMap 的文档提供了一些工具，不过安装有些麻烦，以前尝试过在 ubuntu 上安装，成功的截取过，\n后来换了 mac，有的依赖没能装上，而且那个用于截取的软件已经停止维护了，并推荐了另一个软件，\n"),e("a",{attrs:{href:"https://github.com/mbloch/mapshaper",target:"_blank",rel:"noopener noreferrer"}},[a._v("mapshaper"),e("OutboundLink")],1),a._v(", 这个软件有 GUI，用起来还不错。")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("把 GIS 数据导入到 mapshaper 中，如果是下载了上文的中国地图 GIS 数据，里面包含了 1，2，3 不同精度的地图，\n根据需要的精度导入，笔者开发的时候，需要淄博市的轮廓，于是就导入等级 3 的地图数据")])]),a._v(" "),e("li",[e("p",[a._v("打开 console，通过命令获得需要的轮廓")]),a._v(" "),e("ul",[e("li",[a._v("过滤得到淄博的轮廓 "),e("code",[a._v('filter \'NAME_1 == "Shandong" && NAME_2 == "Zibo" && NAME_3 != "Gaoqing" || NAME_3 == "Zouping"\'')])]),a._v(" "),e("li",[a._v("清除淄博以外的区域 "),e("code",[a._v("mapshaper -clean")])]),a._v(" "),e("li",[a._v("由于不需要轮廓里面的线，只需要最外面那层轮廓，将里面的线移除 "),e("code",[a._v("mapshaper -dissolve")]),a._v(", "),e("code",[a._v("mapshaper -clean")])])])]),a._v(" "),e("li",[e("p",[a._v("导出成 svg 数据，到此已经得到一个淄博地图轮廓的 svg 了")])]),a._v(" "),e("li",[e("p",[a._v("由于要在 ammap 里用，使用 ammap 提供的"),e("a",{attrs:{href:"http://extra.amcharts.com/mapparser3/",target:"_blank",rel:"noopener noreferrer"}},[a._v("工具"),e("OutboundLink")],1),a._v("，获取 json 数据，这里获取的 json 数据就能用于 mamap 了")]),a._v(" "),e("ul",[e("li",[a._v("打开导出的 svg 文件，复制里面"),e("code",[a._v("<g>")]),a._v("标签的全部内容")]),a._v(" "),e("li",[a._v("导入到"),e("a",{attrs:{href:"http://extra.amcharts.com/mapparser3/",target:"_blank",rel:"noopener noreferrer"}},[a._v("amMap parser"),e("OutboundLink")],1),a._v("，获取到 json 数据")])])])]),a._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[a._v("#")]),a._v(" 参考链接")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.amcharts.com/docs/v3/tutorials/creating-custom-maps-for-javascript-ammap/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Creating custom maps for JavaScript amMap"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://www.ganghe.net/research/data/china-gis-data",target:"_blank",rel:"noopener noreferrer"}},[a._v("中国 GIS 数据"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/mbloch/mapshaper",target:"_blank",rel:"noopener noreferrer"}},[a._v("mapshaper"),e("OutboundLink")],1)]),a._v(" "),e("li",[e("a",{attrs:{href:"http://extra.amcharts.com/mapparser3/",target:"_blank",rel:"noopener noreferrer"}},[a._v("amMap parser"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=s.exports}}]);